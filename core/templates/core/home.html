{% extends 'core/base.html' %}
{% load static %}
{% load socialaccount %}

{% block extra_head %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@300;400;500;600&family=Montserrat:wght@700;900&family=Outfit:wght@400;700&display=swap" rel="stylesheet">
<style>
    .mobile-bottom-nav {
        display: none !important;
        padding-bottom: 3.5rem !important;
    }
    html, body {
        min-height: 100vh;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        /* Deep gradient with subtle blue-gray undertone */
        background: linear-gradient(160deg, #0c0c0f 0%, #12121a 35%, #0d0d12 70%, #08080b 100%);
    }
    .home-page {
        width: 100%;
        min-height: 100vh;
        margin: 0;
        padding: 0;
        position: relative;
        overflow: hidden !important;
    }
    .home-page::before {
        content: '';
        position: absolute;
        inset: 0;
        pointer-events: none;
        /* Soft light orbs that show through the glass */
        background:
            radial-gradient(ellipse 80% 50% at 50% -20%, rgba(120, 100, 255, 0.12) 0%, transparent 50%),
            radial-gradient(ellipse 60% 40% at 85% 60%, rgba(80, 120, 200, 0.08) 0%, transparent 45%),
            radial-gradient(ellipse 50% 30% at 15% 80%, rgba(100, 80, 180, 0.06) 0%, transparent 40%);
    }
    .glass-panel {
        position: relative;
        background: rgba(255, 255, 255, 0.06);
        backdrop-filter: blur(24px) saturate(1.15);
        -webkit-backdrop-filter: blur(24px) saturate(1.15);
        border-radius: 2.5rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow:
            0 24px 64px rgba(0, 0, 0, 0.35),
            0 0 0 1px rgba(255, 255, 255, 0.05) inset,
            0 1px 0 rgba(255, 255, 255, 0.08) inset;
    }
    .glass-panel::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        border-radius: 2.5rem 2.5rem 0 0;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        opacity: 0.6;
    }
    .glass-btn {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        padding: 0.875rem 1.5rem;
        min-height: 3.25rem;
        background: rgba(255, 255, 255, 0.09);
        backdrop-filter: blur(16px) saturate(1.2);
        -webkit-backdrop-filter: blur(16px) saturate(1.2);
        border: 1px solid rgba(255, 255, 255, 0.18);
        border-radius: 9999px;
        box-shadow:
            0 4px 16px rgba(0, 0, 0, 0.25),
            0 0 0 1px rgba(255, 255, 255, 0.05) inset,
            0 1px 0 rgba(255, 255, 255, 0.12) inset;
        color: rgba(255, 255, 255, 0.95);
        font-family: 'Outfit', 'Inter', sans-serif;
        font-weight: 600;
        font-size: 0.9375rem;
        text-decoration: none;
        cursor: pointer;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
    }
    .glass-btn::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 9999px;
        background: linear-gradient(165deg, rgba(255,255,255,0.12) 0%, transparent 45%, rgba(0,0,0,0.04) 100%);
        pointer-events: none;
    }
    .google-login-btn:hover .glass-btn {
        transform: translateY(-2px);
        border-color: rgba(255, 255, 255, 0.28);
        background: rgba(255, 255, 255, 0.12);
        box-shadow:
            0 8px 24px rgba(0, 0, 0, 0.3),
            0 0 24px rgba(120, 100, 255, 0.1),
            0 0 0 1px rgba(255, 255, 255, 0.08) inset,
            0 1px 0 rgba(255, 255, 255, 0.15) inset;
    }
    .google-login-btn:active .glass-btn {
        transform: translateY(0);
        box-shadow:
            0 2px 8px rgba(0, 0, 0, 0.35),
            0 0 0 1px rgba(255, 255, 255, 0.04) inset;
    }
    .home-title {
        font-family: 'Montserrat', 'Playfair Display', serif;
        font-weight: 800;
        letter-spacing: -0.03em;
        background: linear-gradient(180deg, #ffffff 0%, rgba(255,255,255,0.92) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 0 40px rgba(255,255,255,0.15);
        filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2)) drop-shadow(0 4px 24px rgba(100,80,255,0.15));
    }
    .home-subtitle {
        font-family: 'Outfit', 'Inter', sans-serif;
        font-weight: 600;
        letter-spacing: 0.22em;
        color: rgba(255, 255, 255, 0.5);
        text-shadow: 0 1px 12px rgba(80, 80, 255, 0.2);
    }
    @keyframes home-title-in {
        0% { opacity: 0; transform: translateY(32px) scale(0.98); filter: blur(6px) drop-shadow(0 2px 8px rgba(0,0,0,0.2)); }
        70% { opacity: 1; transform: translateY(-4px) scale(1.02); filter: blur(0) drop-shadow(0 2px 8px rgba(0,0,0,0.2)) drop-shadow(0 4px 24px rgba(100,80,255,0.15)); }
        100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0) drop-shadow(0 2px 8px rgba(0,0,0,0.2)) drop-shadow(0 4px 24px rgba(100,80,255,0.15)); }
    }
    @keyframes home-subtitle-in {
        0% { opacity: 0; transform: translateY(16px); }
        100% { opacity: 1; transform: translateY(0); }
    }
    @keyframes home-btn-in {
        0% { opacity: 0; transform: scale(0.88) translateY(24px); }
        100% { opacity: 1; transform: scale(1) translateY(0); }
    }
    .animate-home-title {
        animation: home-title-in 1s cubic-bezier(0.34, 1.2, 0.64, 1) forwards;
    }
    .animate-home-subtitle {
        opacity: 0;
        animation: home-subtitle-in 0.7s cubic-bezier(0.34, 1.2, 0.64, 1) 0.4s forwards;
    }
    .animate-home-btn {
        opacity: 0;
        animation: home-btn-in 0.6s cubic-bezier(0.34, 1.2, 0.64, 1) 0.7s forwards;
    }
    /* Auth tabs & forms */
    .auth-tabs {
        display: flex;
        gap: 0;
        margin-bottom: 1.5rem;
        background: rgba(0, 0, 0, 0.25);
        border-radius: 1rem;
        padding: 0.25rem;
        border: 1px solid rgba(255, 255, 255, 0.06);
    }
    .auth-tab {
        flex: 1;
        padding: 0.6rem 1rem;
        border: none;
        border-radius: 0.75rem;
        font-family: 'Outfit', 'Inter', sans-serif;
        font-weight: 600;
        font-size: 0.875rem;
        color: rgba(255, 255, 255, 0.55);
        background: transparent;
        cursor: pointer;
        transition: color 0.2s, background 0.2s, box-shadow 0.2s;
    }
    .auth-tab:hover {
        color: rgba(255, 255, 255, 0.85);
    }
    .auth-tab.active {
        color: rgba(255, 255, 255, 0.98);
        background: rgba(255, 255, 255, 0.12);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }
    .glass-input {
        width: 100%;
        padding: 0.75rem 1rem;
        margin-bottom: 0.875rem;
        font-family: 'Outfit', 'Inter', sans-serif;
        font-size: 0.9375rem;
        color: rgba(255, 255, 255, 0.95);
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 1rem;
        outline: none;
        transition: border-color 0.2s, box-shadow 0.2s, background 0.2s;
    }
    .glass-input::placeholder {
        color: rgba(255, 255, 255, 0.4);
    }
    .glass-input:focus {
        border-color: rgba(140, 120, 255, 0.5);
        box-shadow: 0 0 0 3px rgba(120, 100, 255, 0.15);
        background: rgba(255, 255, 255, 0.08);
    }
    .glass-input.error {
        border-color: rgba(248, 113, 113, 0.6);
        background: rgba(248, 113, 113, 0.06);
    }
    .auth-form-panel {
        width: 100%;
        text-align: left;
    }
    .auth-form-panel[data-active="signup"] .auth-form-login,
    .auth-form-panel[data-active="login"] .auth-form-signup {
        display: none;
    }
    .auth-submit {
        width: 100%;
        padding: 0.75rem 1.25rem;
        margin-top: 0.25rem;
        font-family: 'Outfit', 'Inter', sans-serif;
        font-weight: 600;
        font-size: 0.9375rem;
        color: rgba(255, 255, 255, 0.95);
        background: rgba(255, 255, 255, 0.09);
        backdrop-filter: blur(16px) saturate(1.2);
        -webkit-backdrop-filter: blur(16px) saturate(1.2);
        border: 1px solid rgba(255, 255, 255, 0.18);
        border-radius: 1rem;
        box-shadow:
            0 4px 16px rgba(0, 0, 0, 0.25),
            0 0 0 1px rgba(255, 255, 255, 0.05) inset,
            0 1px 0 rgba(255, 255, 255, 0.12) inset;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
    }
    .auth-submit:hover {
        background: rgba(255, 255, 255, 0.14);
        border-color: rgba(255, 255, 255, 0.28);
        box-shadow:
            0 8px 24px rgba(0, 0, 0, 0.3),
            0 0 0 1px rgba(255, 255, 255, 0.08) inset,
            0 1px 0 rgba(255, 255, 255, 0.18) inset;
        transform: translateY(-2px);
    }
    .auth-submit:active {
        transform: translateY(0);
        box-shadow:
            0 2px 8px rgba(0, 0, 0, 0.35),
            0 0 0 1px rgba(255, 255, 255, 0.04) inset;
    }
    .auth-errors {
        margin-bottom: 0.75rem;
        padding: 0.5rem 0.75rem;
        border-radius: 0.75rem;
        font-family: 'Outfit', 'Inter', sans-serif;
        font-size: 0.8125rem;
        color: rgba(254, 202, 202, 0.95);
        background: rgba(248, 113, 113, 0.12);
        border: 1px solid rgba(248, 113, 113, 0.25);
    }
    .auth-errors ul {
        margin: 0;
        padding-left: 1rem;
    }
    .auth-divider {
        display: flex;
        align-items: center;
        gap: 1rem;
        width: 100%;
        margin: 1.25rem 0 1rem;
        color: rgba(255, 255, 255, 0.4);
        font-family: 'Outfit', 'Inter', sans-serif;
        font-size: 0.75rem;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
    }
    .auth-divider::before,
    .auth-divider::after {
        content: '';
        flex: 1;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
    }
    .remember-row {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.875rem;
    }
    .remember-row input {
        width: 1rem;
        height: 1rem;
        accent-color: rgba(255, 255, 255, 0.85);
    }
    .remember-row label {
        font-family: 'Outfit', 'Inter', sans-serif;
        font-size: 0.875rem;
        color: rgba(255, 255, 255, 0.7);
        cursor: pointer;
    }
    /* Password field with show/hide toggle */
    .password-field-wrap {
        position: relative;
        margin-bottom: 0.875rem;
    }
    .password-field-wrap .glass-input {
        margin-bottom: 0;
        padding-right: 3.5rem;
    }
    .password-toggle {
        position: absolute;
        right: 0.375rem;
        top: 50%;
        transform: translateY(-50%);
        width: 2.5rem;
        height: 2.5rem;
        padding: 0;
        border: none;
        border-radius: 50%;
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.04) 100%);
        box-shadow:
            0 2px 8px rgba(0, 0, 0, 0.2),
            0 0 0 1px rgba(255, 255, 255, 0.1) inset,
            0 1px 0 rgba(255, 255, 255, 0.15) inset;
        color: rgba(255, 255, 255, 0.65);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: color 0.25s ease, box-shadow 0.25s ease, transform 0.2s cubic-bezier(0.34, 1.2, 0.64, 1);
        -webkit-tap-highlight-color: transparent;
    }
    .password-toggle:hover {
        color: rgba(255, 255, 255, 0.95);
        box-shadow:
            0 4px 12px rgba(0, 0, 0, 0.25),
            0 0 0 1px rgba(255, 255, 255, 0.15) inset,
            0 0 20px rgba(140, 120, 255, 0.15);
    }
    .password-toggle:active {
        transform: translateY(-50%) scale(0.92);
        box-shadow:
            0 1px 4px rgba(0, 0, 0, 0.3),
            0 0 0 1px rgba(255, 255, 255, 0.06) inset;
    }
    .password-toggle[aria-pressed="true"] {
        color: rgba(180, 160, 255, 0.95);
        box-shadow:
            0 2px 12px rgba(120, 100, 255, 0.25),
            0 0 0 1px rgba(160, 140, 255, 0.2) inset,
            0 0 24px rgba(120, 100, 255, 0.12);
    }
    .password-toggle[aria-pressed="true"]:hover {
        color: rgba(220, 200, 255, 1);
        box-shadow:
            0 4px 16px rgba(120, 100, 255, 0.3),
            0 0 0 1px rgba(180, 160, 255, 0.25) inset,
            0 0 28px rgba(120, 100, 255, 0.2);
    }
    .password-toggle svg {
        width: 1.35rem;
        height: 1.35rem;
        pointer-events: none;
    }
    .password-toggle .icon-show,
    .password-toggle .icon-hide {
        position: absolute;
        transition: opacity 0.25s ease, transform 0.25s cubic-bezier(0.34, 1.2, 0.64, 1);
    }
    .password-toggle .icon-hide {
        opacity: 0;
        transform: scale(0.7) rotate(-12deg);
    }
    .password-toggle[aria-pressed="true"] .icon-show {
        opacity: 0;
        transform: scale(0.7) rotate(12deg);
    }
    .password-toggle[aria-pressed="true"] .icon-hide {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }
</style>
{% endblock %}

{% block content %}
<div class="home-page min-h-screen w-full flex justify-center items-center px-4 pt-10 pb-20" style="margin-top: -72px;">
    <div class="glass-panel flex flex-col items-center justify-center px-8 py-12 md:px-10 md:py-14 max-w-md w-full z-10">
        <h1 class="home-title text-4xl md:text-6xl lg:text-7xl mb-3 animate-home-title" style="margin-top: -2vh;">
            Am I Ok?
        </h1>
        <p class="home-subtitle text-[0.65rem] md:text-xs uppercase tracking-[0.22em] mb-8 animate-home-subtitle">
            KYA MAIN THEEK HOON?
        </p>

        <div class="auth-tabs animate-home-btn" role="tablist">
            <button type="button" class="auth-tab {% if active_auth_tab == 'login' %}active{% endif %}" data-tab="login" role="tab" aria-selected="{% if active_auth_tab == 'login' %}true{% else %}false{% endif %}">Sign in</button>
            <button type="button" class="auth-tab {% if active_auth_tab == 'signup' %}active{% endif %}" data-tab="signup" role="tab" aria-selected="{% if active_auth_tab == 'signup' %}true{% else %}false{% endif %}">Register</button>
        </div>

        <div class="auth-form-panel animate-home-btn" data-active="{{ active_auth_tab|default:'login' }}">
            <div class="auth-form-login auth-form-panel-inner">
                <form method="post" action="" class="auth-form">
                    {% csrf_token %}
                    <input type="hidden" name="form_type" value="login">
                    {% if login_form.non_field_errors %}
                        <div class="auth-errors">{{ login_form.non_field_errors }}</div>
                    {% endif %}
                    <div>
                        <input type="text" name="login" placeholder="Username or email" autocomplete="username" maxlength="150"
                               class="glass-input {% if login_form.login.errors %}error{% endif %}"
                               value="{{ login_form.login.value|default:'' }}" required id="id_login">
                        {% if login_form.login.errors %}<div class="auth-errors">{{ login_form.login.errors }}</div>{% endif %}
                    </div>
                    <div class="password-field-wrap">
                        <input type="password" name="password" placeholder="Password" autocomplete="current-password"
                               class="glass-input {% if login_form.password.errors %}error{% endif %}" required id="id_password">
                        <button type="button" class="password-toggle" aria-label="Show password" aria-pressed="false" data-target="id_password">
                            <span class="icon-show" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5C7 5 3 12 3 12s4 7 9 7 9-7 9-7-4-7-9-7z"/><circle cx="12" cy="12" r="3.5" stroke-width="1.5"/></svg>
                            </span>
                            <span class="icon-hide" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3l18 18"/><path d="M10.7 10.7a3 3 0 1 0 4.2 4.2"/><path d="M9.4 6.4c1.4-.9 3-1.4 4.6-1.4 5 0 9 7 9 7a15 15 0 0 1-2.7 3.2"/><path d="M14.6 17.6c-1.4.9-3 1.4-4.6 1.4-5 0-9-7-9-7a15 15 0 0 1 2.7-3.2"/></svg>
                            </span>
                        </button>
                        {% if login_form.password.errors %}<div class="auth-errors">{{ login_form.password.errors }}</div>{% endif %}
                    </div>
                    <div class="remember-row">
                        <input type="checkbox" name="remember" id="id_remember">
                        <label for="id_remember">Remember me</label>
                    </div>
                    <button type="submit" class="auth-submit">Sign in</button>
                </form>
            </div>
            <div class="auth-form-signup auth-form-panel-inner">
                <form method="post" action="" class="auth-form">
                    {% csrf_token %}
                    <input type="hidden" name="form_type" value="signup">
                    {% if signup_form.non_field_errors %}
                        <div class="auth-errors">{{ signup_form.non_field_errors }}</div>
                    {% endif %}
                    <div>
                        <input type="text" name="username" placeholder="Username" autocomplete="username" maxlength="150"
                               class="glass-input {% if signup_form.username.errors %}error{% endif %}"
                               value="{{ signup_form.username.value|default:'' }}" required id="id_username">
                        {% if signup_form.username.errors %}<div class="auth-errors">{{ signup_form.username.errors }}</div>{% endif %}
                    </div>
                    <div class="password-field-wrap">
                        <input type="password" name="password1" placeholder="Password" autocomplete="new-password"
                               class="glass-input {% if signup_form.password1.errors %}error{% endif %}" required id="id_password1">
                        <button type="button" class="password-toggle" aria-label="Show password" aria-pressed="false" data-target="id_password1">
                            <span class="icon-show" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5C7 5 3 12 3 12s4 7 9 7 9-7 9-7-4-7-9-7z"/><circle cx="12" cy="12" r="3.5" stroke-width="1.5"/></svg>
                            </span>
                            <span class="icon-hide" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3l18 18"/><path d="M10.7 10.7a3 3 0 1 0 4.2 4.2"/><path d="M9.4 6.4c1.4-.9 3-1.4 4.6-1.4 5 0 9 7 9 7a15 15 0 0 1-2.7 3.2"/><path d="M14.6 17.6c-1.4.9-3 1.4-4.6 1.4-5 0-9-7-9-7a15 15 0 0 1 2.7-3.2"/></svg>
                            </span>
                        </button>
                        {% if signup_form.password1.errors %}<div class="auth-errors">{{ signup_form.password1.errors }}</div>{% endif %}
                    </div>
                    <div class="password-field-wrap">
                        <input type="password" name="password2" placeholder="Confirm password" autocomplete="new-password"
                               class="glass-input {% if signup_form.password2.errors %}error{% endif %}" required id="id_password2">
                        <button type="button" class="password-toggle" aria-label="Show password" aria-pressed="false" data-target="id_password2">
                            <span class="icon-show" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5C7 5 3 12 3 12s4 7 9 7 9-7 9-7-4-7-9-7z"/><circle cx="12" cy="12" r="3.5" stroke-width="1.5"/></svg>
                            </span>
                            <span class="icon-hide" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3l18 18"/><path d="M10.7 10.7a3 3 0 1 0 4.2 4.2"/><path d="M9.4 6.4c1.4-.9 3-1.4 4.6-1.4 5 0 9 7 9 7a15 15 0 0 1-2.7 3.2"/><path d="M14.6 17.6c-1.4.9-3 1.4-4.6 1.4-5 0-9-7-9-7a15 15 0 0 1 2.7-3.2"/></svg>
                            </span>
                        </button>
                        {% if signup_form.password2.errors %}<div class="auth-errors">{{ signup_form.password2.errors }}</div>{% endif %}
                    </div>
                    <button type="submit" class="auth-submit">Create account</button>
                </form>
            </div>
        </div>

        <div class="auth-divider animate-home-btn">or</div>
        <a href="{% provider_login_url 'google' %}" class="group relative inline-flex cursor-pointer google-login-btn animate-home-btn" style="z-index: 2;" aria-label="Sign in with Google">
            <span class="glass-btn">
                <svg class="w-6 h-6 relative z-10 flex-shrink-0 grayscale opacity-95" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#9ca3af"/>
                    <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#d1d5db"/>
                    <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#e5e7eb"/>
                    <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#374151"/>
                </svg>
                <span class="relative z-10">Sign in with Google</span>
            </span>
        </a>
    </div>
</div>
{% block extra_js %}
<script>
(function() {
    var panel = document.querySelector('.auth-form-panel');
    var tabs = document.querySelectorAll('.auth-tab');
    if (!panel || !tabs.length) return;
    tabs.forEach(function(tab) {
        tab.addEventListener('click', function() {
            var t = this.getAttribute('data-tab');
            panel.setAttribute('data-active', t);
            tabs.forEach(function(btn) {
                btn.classList.toggle('active', btn === tab);
                btn.setAttribute('aria-selected', btn === tab ? 'true' : 'false');
            });
        });
    });
})();
(function() {
    document.querySelectorAll('.password-toggle').forEach(function(btn) {
        btn.addEventListener('click', function() {
            var id = this.getAttribute('data-target');
            var input = document.getElementById(id);
            if (!input) return;
            var isHidden = input.type === 'password';
            input.type = isHidden ? 'text' : 'password';
            this.setAttribute('aria-pressed', isHidden ? 'true' : 'false');
            this.setAttribute('aria-label', isHidden ? 'Hide password' : 'Show password');
        });
    });
})();
</script>
{% endblock %}
{% endblock %}
