{% load static %}
<!-- Minimalistic Glassy Invite Code Popup -->
<div id="invite-code-popup" class="fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm" style="display:none;">
  <div class="relative bg-black/70 border border-white/10 rounded-3xl shadow-2xl px-8 py-8 flex flex-col items-center gap-4" style="min-width: 260px; max-width: 90vw;">
    <button onclick="closeInviteCodePopup()" class="absolute top-3 right-3 text-white/60 hover:text-white/90 text-2xl focus:outline-none">
      &times;
    </button>
    <div class="text-lg font-semibold text-white/80 mb-2 tracking-wide">Your Invite Code</div>
    <div class="flex items-center gap-2">
      <span id="invite-code-value" class="text-4xl font-mono font-bold text-white px-4 py-2 rounded-xl bg-white/10 border border-white/10 select-all tracking-widest shadow-lg">{{ invite_code }}</span>
      <button onclick="copyInviteCode()" class="ml-2 p-2 rounded-full bg-white/10 border border-white/10 hover:bg-white/20 transition" title="Copy">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16h8a2 2 0 002-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6a2 2 0 002 2zm0 0v2a2 2 0 002 2h4a2 2 0 002-2v-2" />
        </svg>
      </button>
    </div>
    <div id="copy-success" class="text-green-400 text-xs mt-2 hidden">Copied!</div>
  </div>
</div>
<script>
function openInviteCodePopup() {
  document.getElementById('invite-code-popup').style.display = 'flex';
}
function closeInviteCodePopup() {
  document.getElementById('invite-code-popup').style.display = 'none';
}
function copyInviteCode() {
  const code = document.getElementById('invite-code-value').innerText;
  navigator.clipboard.writeText(code).then(function() {
    document.getElementById('copy-success').style.display = 'block';
    setTimeout(() => { document.getElementById('copy-success').style.display = 'none'; }, 1200);
  });
}
</script>
